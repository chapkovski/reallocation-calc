(function(t){function e(e){for(var r,c,i=e[0],s=e[1],l=e[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&f.push(n[c][0]),n[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var s=a[i];0!==n[s]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},n={app:0},o=[];function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/reallocation-calc/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("64a9"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf"),a("0cdd");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-container",{staticClass:"m-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("params-card",{attrs:{params:t.params}}),a("b-card",{attrs:{header:"What will user see:","header-text-variant":"white","header-tag":"header","header-bg-variant":"primary","border-variant":"primary"}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 text-center"},[a("reallocation",{attrs:{allocations:t.realloc_choices},model:{value:t.chosen_reallocation,callback:function(e){t.chosen_reallocation=e},expression:"chosen_reallocation"}}),void 0!=t.chosen_reallocation?a("tax-rates",{attrs:{rates:t.tax_rates},model:{value:t.chosen_tax_rate,callback:function(e){t.chosen_tax_rate=e},expression:"chosen_tax_rate"}}):t._e()],1),a("b-col",{staticClass:"col-md-8",attrs:{"align-self":"center"}},[void 0===t.chosen_reallocation?a("div",{staticClass:"alert alert-primary"},[t._v("Please choose one of the options")]):t._e(),a("transition",{attrs:{name:"fade"}},[a("b-alert",{attrs:{variant:"danger",show:void 0!=t.chosen_reallocation&&void 0===t.chosen_tax_rate}},[t._v("Now choose for which tax rate you want to see the results")])],1),a("transition",{attrs:{name:"fade"}},[t.chosen_paramset&&void 0!=t.chosen_tax_rate?a("result",{attrs:{tax:t.chosen_tax_rate,chosen_paramset:t.chosen_paramset}}):t._e()],1)],1)],1)])])],1)])])],1)},o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form-group",{attrs:{label:"Choose an option:"}},[a("b-form-radio-group",{attrs:{id:"btn-radios-3",options:t.options,buttons:"",stacked:"","button-variant":"outline-primary",name:"radio-btn-stacked"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},i=[],s={name:"Reallocation",props:{allocations:Array},data:function(){return{selected:void 0}},computed:{options:function(){var t=this.allocations.map((function(t,e){return{text:"Option ".concat(e+1),value:t}}));return t}},watch:{selected:function(t){this.$emit("input",t)}}},l=s,u=a("2877"),d=Object(u["a"])(l,c,i,!1,null,null,null),f=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form-group",{attrs:{label:"Choose for which tax rate  you want to see the results:"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Choose for which tax rate "),a("br"),t._v("  you want to see the results:")]},proxy:!0}])},[a("b-form-radio-group",{attrs:{id:"btn-radios-3",options:t.options,buttons:"",stacked:"","button-variant":"outline-primary",name:"radio-btn-stacked"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},b=[],m={name:"TaxRate",props:{rates:Array},data:function(){return{selected:void 0}},computed:{options:function(){var t=this.rates.map((function(t){var e=parseFloat(100*t).toFixed(0)+"%";return{text:"Tax rate ".concat(e),value:t}}));return t}},watch:{selected:function(t){this.$emit("input",t)}}},h=m,_=Object(u["a"])(h,p,b,!1,null,null,null),v=_.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-table",{attrs:{striped:"",responsive:"",hover:"",items:t.income_table,"caption-top":""}})],1)},y=[],w={name:"Result",props:{tax:Number,chosen_paramset:Object},data:function(){return{}},methods:{income_before_tax:function(t){return(t.capacity*t.productivity).toFixed(2)},income_after_tax:function(t){return(this.income_before_tax(t)*(1-this.tax)+this.ind_share).toFixed(2)}},computed:{total_tax:function(){var t=Object.values(this.chosen_paramset),e=0;return t.forEach((function(t){e+=t.capacity*t.productivity*t.number})),e*this.tax},num_players:function(){var t=Object.values(this.chosen_paramset),e=0;return t.forEach((function(t){e+=t.number})),e},ind_share:function(){return this.total_tax/this.num_players},income_table:function(){var t=this,e=this.chosen_paramset,a=[];return Object.keys(e).forEach((function(r){var n=e[r],o={participant_type:r,items_to_do:n.capacity,"points per item":n.productivity,income_before_tax:t.income_before_tax(n),income_after_tax:t.income_after_tax(n)};a.push(o)})),a}}},O=w,g=Object(u["a"])(O,x,y,!1,null,null,null),j=g.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"mb-2",attrs:{"sub-title":"Not to be shown to user",header:"Parameters:","header-text-variant":"white","header-tag":"header","header-bg-variant":"dark","border-variant":"dark"}},[a("b-card-text",[a("div",{staticClass:"container fluid"},[a("div",{staticClass:"row"},t._l(t.params_list,(function(t,e){return a("ind-params",{key:e,attrs:{indparams:t}})})),1)])])],1)],1)},C=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-1 col"},[a("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields,"caption-top":"",small:"",responsive:""},scopedSlots:t._u([{key:"table-caption",fn:function(){return[t._v("Reform: "),a("b",[t._v(t._s(t.format_allocation))])]},proxy:!0}])})],1)},E=[],$={name:"IndParamsCard",props:{indparams:Array},data:function(){var t=this.indparams[0],e=this.indparams[1],a=Object.keys(e).map((function(t){var a=e[t];return a.participant_type=t,a}));return{fields:["participant_type","capacity","productivity","number"],format_allocation:"0"===t?"No":"Yes",items:a}}},S=$,A=Object(u["a"])(S,P,E,!1,null,null,null),T=A.exports,F={name:"ParamsCard",props:{params:Object},data:function(){var t=Object.entries(this.params);return{params_list:t}},components:{"ind-params":T}},M=F,N=Object(u["a"])(M,k,C,!1,null,null,null),R=N.exports,B={name:"app",components:{reallocation:f,"tax-rates":v,result:j,"params-card":R},data:function(){return{show:!0,realloc_choices:[0,1],tax_rates:[0,.3,.4348],chosen_tax_rate:void 0,chosen_reallocation:void 0,params:{0:{A:{capacity:4,productivity:1,number:2},B:{capacity:4,productivity:1,number:2}},1:{A:{capacity:0,productivity:0,number:2},B:{capacity:4,productivity:4.6,number:2}}}}},computed:{chosen_paramset:function(){return this.params[this.chosen_reallocation]}}},J=B,I=(a("034f"),Object(u["a"])(J,n,o,!1,null,null,null)),W=I.exports,Y=a("5f5b");a("f9e3"),a("2dd8");r["default"].use(Y["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(W)}}).$mount("#app")},"64a9":function(t,e,a){}});
//# sourceMappingURL=app.46b7a377.js.map